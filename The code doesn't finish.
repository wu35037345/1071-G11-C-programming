#include<stdio.h>
#include<stdlib.h>
#include<string.h>
struct Eat
{
    int p1=0,p2=0,p3=0,p4=0;
    int d1=0,d2=0,d3=0,d4=0;
};
void pasta(Eat eats)
{
    while(1)
    {
        int n;
        printf("Italian pasta\n");
        printf("1.Unexpected Italian pasta\n");
        printf("2.Bacon Italian pasta\n");
        printf("3.Beef Italian pasta\n");
        printf("4.Shrimp Italian pasta\n");
        printf("5.return\n\n");
        scanf("%d",&n);
        if(n==5)
            break;
        switch(n)
        {
        case 1:
            printf("How many shares of Unexpected Italian pasta do you want?\n");
            scanf("%d",&eats.p1);
            break;
        case 2:
            printf("How many shares of Bacon Italian pasta do you want?\n");
            scanf("%d",&eats.p2);
            break;
        case 3:
            printf("How many shares of Beef Italian pasta do you want?\n");
            scanf("%d",&eats.p3);
            break;
        case 4:
            printf("How many shares of Shrimp Italian pasta do you want?\n");
            scanf("%d",&eats.p4);
            break;
        }
    }
    
}
void drinkmenu(void)
{
    printf("drink\n"
           "1.Bubble water 10 dollars\n"
           "2.Sprite 30 dollars\n"
           "3.Cola 40 dollars\n"
           "4.Tea 60 dollars\n->");
}
void drinkchoice(char d[10])
{
    printf("How many do ");
    for(int i=0; i<strlen(d); i++)
    {
        if(d[i]=='1')
            printf("Bubble water ");
        if(d[i]=='2')
            printf("Sprite ");
        if(d[i]=='3')
            printf("Cola ");
        if(d[i]=='4')
            printf("Tea");
        if(i!=strlen(d)-1)
            printf("and ");
    }
    printf("have?\n->");

}
void total(char d[10],char n[10])
{
    Eat eats;
	int price[4];
    for(int i=0; i<4; i++)
    {
        if(d[i]=='1')
        {
            price[i]=10*(n[i]-48);
            printf("Bubble water %c shares %d dollars.\n",n[i],price[i]);
            eats.d1=n[i];
        }
        if(d[i]=='2')
        {
            price[i]=30*(n[i]-48);
            printf("Sprite %c shares %d dollars.\n",n[i],price[i]);
            eats.d2=n[i];
        }
        if(d[i]=='3')
        {
            price[i]=40*(n[i]-48);
            printf("Cola %c shares %d dollars.\n",n[i],price[i]);
            eats.d3=n[i];
        }
        if(d[i]=='4')
        {
            price[i]=60*(n[i]-48);
            printf("Tea %c shares %d dollars.\n",n[i],price[i]);
            eats.d4=n[i];
        }
    }
}

void drink(Eat eats)
{
    char d[10];
    char n[10];
    drinkmenu();
    gets(d);
    for(int i=0; i<=strlen(d); i++)
    {
        if(d[i]==' ')
        {
            for(int j=i; j<9-i; j++)
            {
                d[j]=d[j+1];
            }
        }
        if(d[i]>'4')
            d[i]=' ';
    }

    drinkchoice(d);
    gets(n);
    for(int i=0; i<=strlen(n); i++)
    {
        if(n[i]==' ')
        {
            for(int j=i; j<9-i; j++)
            {
                n[j]=n[j+1];
            }
        }

    }
    total(d,n);
}
void payment(Eat eats)
{
    int choice;
    printf("Payment methods\n");
    printf("1.Cash\n");
    printf("2.Card\n");
    printf("->");
    scanf("%d",&choice);
    printf("Unexpected Italian pasta %d shares %d dollars\n",eats.p1,eats.p1*50);
    printf("Bacon Italian pasta      %d shares %d dollars\n",eats.p2,eats.p2*70);
    printf("Beef Italian pasta       %d shares %d dollars\n",eats.p3,eats.p3*80);
    printf("Shrimp Italian pasta     %d shares %d dollars\n",eats.p4,eats.p4*90);
    printf("Bubble water             %d shares %d dollars\n",eats.d1-48,(eats.d1-48)*10);
    printf("Sprite                   %d shares %d dollars\n",eats.d2-48,(eats.d2-48)*30);
    printf("Cola                     %d shares %d dollars\n",eats.d3-48,(eats.d3-48)*40);
    printf("Tea                      %d shares %d dollars\n",eats.d4-48,(eats.d4-48)*60);
    printf("Total %d dollars\n");
}
int main()
{
    Eat eats;
    int choice;
    printf("Welcome to the Tamkang Yi Restaurant\n");
    printf("Menu\n");
    printf("1.Italian pasta\n");
    printf("2.drink\n");
    printf("3.I have ordered the menu, I settle accounts.\n");
    printf("->");
    scanf("%d",&choice);
    while(choice!=3)
    {
        if(choice==1)
            pasta(eats);
        if(choice==2)
            drink(eats);
        printf("Welcome to the Tamkang Yi Restaurant\n");
        printf("Menu\n");
        printf("1.Italian pasta\n");
        printf("2.drink\n");
        printf("3.I have ordered the menu, I settle accounts.\n");
        printf("->");
        scanf("%d",&choice);
    }
    payment(eats);
    return 0;
}
